"use strict";window.backend={upload:function(e,o,t){var n=new XMLHttpRequest;n.responseType="json",n.addEventListener("load",function(){200===n.status?o(n.status):t(n)}),n.open("POST","https://echo.htmlacademy.ru"),n.send(e)}},function(){var o=document.querySelector("body"),t=o.querySelector(".page-footer__form");if(null!==t){var n,r,c=t.querySelectorAll("input"),l=o.querySelector(".overlay"),s=o.querySelector("#success").content.querySelector(".success"),i=o.querySelector("#error").content.querySelector(".error"),a=27;t.addEventListener("submit",function(e){e.preventDefault(),window.backend.upload(new FormData(t),u,d)})}function d(){e(),y(!1),f()}function u(){e(),y(!0),f()}function e(){l.classList.remove("overlay--hidden"),scrollLock.disablePageScroll(o)}function m(){l.classList.add("overlay--hidden"),scrollLock.enablePageScroll(o)}function v(){o.removeChild(n)}function f(){for(var e=0;e<c.length;e++)c[e].value="",c[e].blur()}function y(e){e?(n=s.cloneNode(!0),r=n.querySelector(".success__button")):e||(n=i.cloneNode(!0),r=n.querySelector(".error__buttons")),o.appendChild(n),n.classList.add("modal-form--open"),document.addEventListener("keydown",L),document.addEventListener("click",p),r.addEventListener("click",k)}function L(e){e.keyCode===a&&(n.classList.remove("modal-form--open"),n.classList.add("modal-form--close"),setTimeout(m,400),setTimeout(v,1e3),document.removeEventListener("keydown",L),document.removeEventListener("click",p),r.removeEventListener("click",k))}function p(e){e.target.className===l.className&&(n.classList.remove("modal-form--open"),n.classList.add("modal-form--close"),setTimeout(m,400),setTimeout(v,1e3),document.removeEventListener("keydown",L),document.removeEventListener("click",p),r.removeEventListener("click",k))}function k(){n.classList.remove("modal-form--open"),n.classList.add("modal-form--close"),setTimeout(m,400),setTimeout(v,1e3),document.removeEventListener("keydown",L),document.removeEventListener("click",p),r.removeEventListener("click",k)}}(),function(){var e=document.querySelectorAll(".bg-parallax");null!==e&&Array.prototype.slice.call(e).forEach(function(e){var c=e.querySelector(".bg-parallax__element");e.addEventListener("mousemove",function(e){var o=window.innerWidth/2,t=window.innerHeight/2,n=e.clientX,r=e.clientY;c.style.backgroundPositionX="calc(-3.5vw + "+.05*(n-o)+"px)",c.style.backgroundPositionY="calc(-3.5vh + "+.05*(r-t)+"px)"})})}();