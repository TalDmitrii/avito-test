"use strict";window.backend={upload:function(e,o,t){var n=new XMLHttpRequest;n.responseType="json",n.addEventListener("load",function(){200===n.status?o(n.status):t(n)}),n.open("POST","https://echo.htmlacademy.ru"),n.send(e)}},function(){var o=document.querySelector("body"),t=o.querySelector(".page-footer__form");if(null!==t){var n,r,c=t.querySelectorAll("input"),i=o.querySelector(".overlay"),l=o.querySelector("#success").content.querySelector(".success"),s=o.querySelector("#error").content.querySelector(".error"),a=27;t.addEventListener("submit",function(e){e.preventDefault(),window.backend.upload(new FormData(t),u,d)})}function d(){e(),y(!1),p()}function u(){e(),y(!0),p()}function e(){i.classList.remove("overlay--hidden"),scrollLock.disablePageScroll(o)}function m(){i.classList.add("overlay--hidden"),scrollLock.enablePageScroll(o)}function v(){o.removeChild(n)}function p(){for(var e=0;e<c.length;e++)c[e].value="",c[e].blur()}function y(e){e?(n=l.cloneNode(!0),r=n.querySelector(".success__button")):e||(n=s.cloneNode(!0),r=n.querySelector(".error__buttons")),o.appendChild(n),n.classList.add("modal-form--open"),document.addEventListener("keydown",f),document.addEventListener("click",L),r.addEventListener("click",w)}function f(e){e.keyCode===a&&(n.classList.remove("modal-form--open"),n.classList.add("modal-form--close"),setTimeout(m,400),setTimeout(v,1e3),document.removeEventListener("keydown",f),document.removeEventListener("click",L),r.removeEventListener("click",w))}function L(e){e.target.className===i.className&&(n.classList.remove("modal-form--open"),n.classList.add("modal-form--close"),setTimeout(m,400),setTimeout(v,1e3),document.removeEventListener("keydown",f),document.removeEventListener("click",L),r.removeEventListener("click",w))}function w(){n.classList.remove("modal-form--open"),n.classList.add("modal-form--close"),setTimeout(m,400),setTimeout(v,1e3),document.removeEventListener("keydown",f),document.removeEventListener("click",L),r.removeEventListener("click",w)}}(),function(){var e=document.querySelectorAll(".bg-parallax");null!==e&&Array.prototype.slice.call(e).forEach(function(e){var c=e.querySelector(".bg-parallax__element");e.addEventListener("mousemove",function(e){var o=window.innerWidth/2,t=window.innerHeight/2,n=e.clientX,r=e.clientY;c.style.backgroundPositionX="calc(-3.5vw + "+.05*(n-o)+"px)",c.style.backgroundPositionY="calc(-3.5vh + "+.05*(r-t)+"px)"})})}(),function(){var e=document.querySelector(".video__content-wrapper");if(e){var o=e.querySelector(".video__button"),t=e.querySelector(".video__video");e.classList.add("video__content-wrapper--js"),t.controls=!1,o.addEventListener("click",function(){t.style.background="none",t.style.backgroundColor="black",t.controls=!0,t.play(),o.classList.add("video__button--animation"),setTimeout(n,1500)})}function n(){o.style.display="none"}}(),new Swiper(".slider-js",{autoHeight:!0,slidesPerView:1,spaceBetween:50,updateOnWindowResize:!0,loop:!0,pagination:{el:".swiper-pagination",type:"fraction",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});